(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},36:function(e,t,a){e.exports=a(85)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},69:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),s=a(14),r=a.n(s),o=a(3),i=a(4),c=a(6),u=a(5),m=a(7),d=a(88),y=a(89),f=a(90),p=a(32),b=a(13),h={wy:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],becomeadinosaur:[{elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#f5f5f2"},{visibility:"on"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#ffffff"},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{visibility:"simplified"},{color:"#ffffff"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{color:"#ffffff"},{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",stylers:[{color:"#ffffff"}]},{featureType:"road.local",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#71c8d4"}]},{featureType:"landscape",stylers:[{color:"#e5e8e7"}]},{featureType:"poi.park",stylers:[{color:"#8ba129"}]},{featureType:"road",stylers:[{color:"#ffffff"}]},{featureType:"poi.sports_complex",elementType:"geometry",stylers:[{color:"#c7c7c7"},{visibility:"off"}]},{featureType:"water",stylers:[{color:"#a0d3d3"}]},{featureType:"poi.park",stylers:[{color:"#91b65d"}]},{featureType:"poi.park",stylers:[{gamma:1.51}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"poi.government",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.local",stylers:[{visibility:"simplified"}]},{featureType:"road"},{featureType:"road"},{},{featureType:"road.highway"}],cleangrey:[{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"},{color:"#e3e3e3"}]},{featureType:"landscape.natural",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{color:"#cccccc"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit.station.airport",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"transit.station.airport",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#FFFFFF"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}],customwy:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#000000"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],mostlyGrayScale:[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"administrative",elementType:"labels",stylers:[{saturation:"-100"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{gamma:"0.75"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{lightness:"-37"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f9f9f9"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{saturation:"-100"},{lightness:"40"},{visibility:"off"}]},{featureType:"landscape.natural",elementType:"labels.text.fill",stylers:[{saturation:"-100"},{lightness:"-37"}]},{featureType:"landscape.natural",elementType:"labels.text.stroke",stylers:[{saturation:"-100"},{lightness:"100"},{weight:"2"}]},{featureType:"landscape.natural",elementType:"labels.icon",stylers:[{saturation:"-100"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{lightness:20}]},{featureType:"road",elementType:"labels",stylers:[{saturation:"-100"},{gamma:"1.00"}]},{featureType:"road",elementType:"labels.text",stylers:[{gamma:"0.50"}]},{featureType:"road",elementType:"labels.icon",stylers:[{saturation:"-100"},{gamma:"0.50"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"},{saturation:"-100"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{lightness:"-13"}]},{featureType:"road.highway",elementType:"labels.icon",stylers:[{lightness:"0"},{gamma:"1.09"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"},{saturation:"-100"},{lightness:"47"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{lightness:"-12"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{saturation:"-100"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"},{lightness:"77"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{lightness:"-5"},{saturation:"-100"}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-15"}]},{featureType:"transit.station.airport",elementType:"geometry",stylers:[{lightness:"47"},{saturation:"-100"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#acbcc9"}]},{featureType:"water",elementType:"geometry",stylers:[{saturation:"53"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:"-42"},{saturation:"17"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{lightness:"61"}]}]},g=(a(41),a(16)),C=a(18);function v(e){switch(e.issueType){case"Structural":return l.a.createElement(C.a,null);case"Wildlife":return l.a.createElement(g.d,null);case"Utility":return l.a.createElement(g.e,null);case"Roads":return l.a.createElement(g.f,null);case"Vandalism":return l.a.createElement(g.c,null);case"Trash":return l.a.createElement(g.g,null);case"Other":return l.a.createElement(g.a,null);default:return l.a.createElement(g.b,null)}}a(42);function E(e){var t=e.issueType,a=e.onReportIssueClick;return l.a.createElement("div",{className:"reportBtnInnerContainer"},l.a.createElement("button",{className:"reportBtn",name:t,type:"button",onClick:function(){a(t)}},l.a.createElement(v,{className:"reportBtn",issueType:t})))}var T=a(15),I=(a(43),a(44),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(T.a)({},n,t))},a.handleImageLoad=function(e){if(e.target.files.length>3||e.target.files.length<=0)alert("Please submit max of 3 images");else{var t=Array.from(e.target.files);a.setState({imageFiles:t});var n=[];t.forEach(function(e){return n.push(window.URL.createObjectURL(e))}),a.setState({imagePreviewLinks:n})}},a.handleSubmitClick=function(e){e.preventDefault();var t=a.state,n=t.issueType,l=t.descValue,s=t.imageFiles,r=["image/png","image/jpeg","image/gif"],o=!1,i=[];if(n&&l&&s){var c={category:n,descr:l},u=new FormData;s.forEach(function(e,t){return r.every(function(t){return e.type!==t})?(i.push("'".concat(e.type,"' is not a supported format")),void(o=!0)):e.size>15e4?(i.push("'".concat(e.name,"' is too large, please pick a smaller file")),void(o=!0)):void u.append(t,e)}),o?i.map(function(e){return alert(e)}):a.props.submitIssueReport(c,u),a.setState({issueType:"Structural",descValue:"",imageFiles:null,imagePreviewLinks:[]})}else alert("1-3 images and Description is Required")},a.state={issueType:a.props.typeSelected,descValue:"",imageFiles:null,imagePreviewLinks:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.imagePreviewLinks;return l.a.createElement("div",null,l.a.createElement("form",{className:"form"},e&&l.a.createElement(l.a.Fragment,null,e.map(function(e){return l.a.createElement("img",{className:"img-thumb",src:e,alt:"Test"})})),l.a.createElement("ul",null,l.a.createElement("li",{className:"headerReportFormContainer"},l.a.createElement("h3",{className:"bold"},"Report")),l.a.createElement("li",null,l.a.createElement("input",{value:this.state.descValue,name:"descValue",onChange:this.handleInputChange,type:"text",placeholder:"Description"}),l.a.createElement("input",{className:"image-input",type:"file",id:"multi",onChange:this.handleImageLoad,multiple:!0}),l.a.createElement("div",{className:"uploadBtnContainer"},l.a.createElement("label",{htmlFor:"multi"},l.a.createElement(C.b,{className:"upload-icon"})))),l.a.createElement("li",{className:"reportFormBtnContainer"},l.a.createElement("button",{className:"reportFormBtn",onClick:this.handleSubmitClick}," Submit")))))}}]),t}(n.Component));a(45);function k(e){var t=e.onReportIssueClick;e.submitIssueReport;return l.a.createElement("div",{className:"overViewPanel center"},l.a.createElement("div",{className:"buttonPanelContainer"},l.a.createElement(E,{issueType:"Wildlife",onReportIssueClick:t}),l.a.createElement(E,{issueType:"Structural",onReportIssueClick:t}),l.a.createElement(E,{issueType:"Utility",onReportIssueClick:t}),l.a.createElement(E,{issueType:"Roads",onReportIssueClick:t})),l.a.createElement("div",{className:"buttonPanelContainer center"},l.a.createElement(E,{issueType:"Vandalism",onReportIssueClick:t}),l.a.createElement(E,{issueType:"Trash",onReportIssueClick:t}),l.a.createElement(E,{issueType:"Other",onReportIssueClick:t})))}a(46);function O(e){var t=e.submitIssueReport,a=e.typeSelected;return l.a.createElement("div",{className:"confirmPanel"},l.a.createElement(I,{submitIssueReport:t,typeSelected:a}))}a(47);var S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onReportTypeClick=function(e){a.setState({typeSelected:e,showingConfirmPanel:!0})},a.state={typeSelected:null,showingConfirmPanel:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentLocation,a=e.submitIssueReport;return l.a.createElement(b.e,{position:t,mapPaneName:b.e.FLOAT_PANE},l.a.createElement(l.a.Fragment,null,!this.state.showingConfirmPanel&&l.a.createElement(k,{onReportIssueClick:this.onReportTypeClick,submitIssueReport:a}),this.state.showingConfirmPanel&&l.a.createElement(O,{submitIssueReport:a,typeSelected:this.state.typeSelected})))}}]),t}(n.Component);a(48),a(49);function w(e){var t=e.imageUrl,a=e.issueDesc;return l.a.createElement("img",{className:"img-thumb",src:t,alt:a})}a(50);function N(e){var t=e.images,a=e.issueDesc;return l.a.createElement("div",null,t.map(function(e){return l.a.createElement(w,{imageUrl:e,issueDesc:a})}))}function j(e){var t=e.selectedIssue,a=e.onVoteClick,n=e.onResolveClick,s=function(e,t){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"}),document.getElementById("cardContainer").style.visibility="visible",document.getElementById("issueCardContent")&&(document.getElementById("issueCardContent").style.display="block")};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h3",null,l.a.createElement("strong",null,t.category)),l.a.createElement("hr",{className:"lineColor"}),l.a.createElement("p",null,t.descr),t.images.length>0&&l.a.createElement(N,{images:t.images,issueDesc:t.descr}),l.a.createElement("div",{className:"buttonsDiv"},l.a.createElement("button",{className:"voteButton",type:"button",onClick:a},"Vote"),l.a.createElement("button",{className:"reportButton",type:"button",onClick:n},"Resolve")),l.a.createElement("a",{onClick:function(e){s()}},"Details")))}var B="".concat("AIzaSyAlo05wNKIX0KloedL8b3ux0RTS77YmOAA"),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).libraries=[],a.containerStyle={visibility:"visible",width:"100vw",height:"100vh",maxWidth:"100%",zIndex:1,position:"absolute"},a.options={disableDefaultUI:!0,styles:h.mostlyGrayScale,clickableIcons:!1},a.icons={marker:{url:"".concat("","/assets/images/markerA.png"),origin:{x:0,y:0},anchor:{x:30,y:50},scaledSize:{width:75,height:75}},markerA:{url:"".concat("","/assets/images/markerB.png"),origin:{x:0,y:0},anchor:{x:16,y:-1},scaledSize:{width:35,height:35}},markerB:{url:"".concat("","/assets/images/markerC.png"),origin:{x:0,y:0},anchor:{x:30,y:50},scaledSize:{width:45,height:45}}},a.onIssueMarkerClick=function(e){a.props.setSelectedIssue(e),a.setState({showingReportPanel:!1})},a.closeInfoWindow=function(){a.props.setSelectedIssue(null)},a.closePanelWindow=function(){a.setState({showingReportPanel:!1})},a.onUserMarkerClick=function(e){var t=!a.state.showingReportPanel;a.setState({showingReportPanel:t}),a.props.setSelectedIssue(null)},a.state={isLoading:!1,showingReportPanel:!1,showingConfirmPanel:!0,showingIssueDetails:!1,reportingType:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.localGovt,n=t.currentLocation,s=t.localIssues,r=t.selectedIssue,o=(t.setSelectedIssue,t.onVoteClick),i=t.onReportIssueClick,c=t.onResolveClick,u=t.submitIssueReport;return l.a.createElement(b.c,{googleMapsApiKey:B},l.a.createElement(b.a,{google:this.props.google,mapContainerStyle:this.containerStyle,center:n,zoom:15,options:this.options,onClick:this.closeInfoWindow},l.a.createElement(b.d,{position:n,icon:this.icons.markerB,onClick:this.onUserMarkerClick}),s.map(function(t,a){if("Closed"!==t.status)return l.a.createElement(b.d,{key:a,position:{lat:t.latlng.lat,lng:t.latlng.lng},icon:e.icons.markerA,clickable:!0,onClick:function(){e.onIssueMarkerClick(t)}})}),r&&l.a.createElement(b.b,{onCloseClick:this.closeInfoWindow,position:{lat:r.latlng.lat,lng:r.latlng.lng}},l.a.createElement(j,{localGovt:a,selectedIssue:r,onVoteClick:o,onResolveClick:c})),this.state.showingReportPanel&&l.a.createElement(S,{currentLocation:n,onReportIssueClick:i,submitIssueReport:u})))}}]),t}(n.Component),x=a(9),L=a.n(x),A=(a(17),"".concat("AIzaSyAlo05wNKIX0KloedL8b3ux0RTS77YmOAA")),P={getGovContacts:function(e){return L.a.get("https://www.googleapis.com/civicinfo/v2/representatives?includeOffices=true&levels=administrativeArea1&key=AIzaSyAjJP4OylQOMoWdiaIOZoTkfm_WwLeeR7g&address=".concat(e))},getZipcode:function(e){return L.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e.lat,",").concat(e.lng,"&result_type=postal_code&key=").concat(A))},getIssues:function(){return L.a.get("/issue/")},getSingleIssue:function(e){return L.a.get("/issue/"+e)},createIssue:function(e){return L.a.post("/issue/",e)},updateIssue:function(e,t){return L.a.put("/issue/"+e,t)},deleteIssue:function(e){return L.a.delete("/issue/"+e)},addComment:function(e,t){return L.a.put("/issue/comments/"+e,t)},uploadImages:function(e){return L()({method:"POST",url:"/image-upload",data:e,headers:{"Content-Type":"multipart/form-data"}})},getUser:function(e){return L.a.get("/users/"+e)},createUser:function(){return L.a.post("/users/add")},updateUser:function(e){return L.a.post("/users/"+e)}},V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={govList:[],newGovObj:[]},a.GetGovData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10029;P.getGovContacts(e).then(function(e){a.setState({govList:e.data});for(var t=[],n=0;n<4;n++){var l={};l.office=e.data.offices[n].name?e.data.offices[n].name:"Info not available",l.name=e.data.officials[n].name?e.data.officials[n].name:"Info not available",l.phones=e.data.officials[n].phones?e.data.officials[n].phones:"Info not available",l.twitter=e.data.officials[n].channels?e.data.officials[n].channels[0].id:"Info not available",l.urls=e.data.officials[n].urls?e.data.officials[n].urls:"Info not available",t.push(l)}a.setState({newGovObj:t})}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.GetGovData()}},{key:"componentDidUpdate",value:function(e){this.props.zipCode!==e.zipCode&&this.GetGovData(this.props.zipCode)}},{key:"render",value:function(){return l.a.createElement("div",{id:"contactsCardContent",className:"textBlock cardInnards"},l.a.createElement("div",{className:"headerContainer bold"},l.a.createElement("h3",{className:"bold"},this.props.header)),l.a.createElement("div",null,this.state.newGovObj.map(function(e){return l.a.createElement("ul",{className:"labelContainer"},l.a.createElement("li",{className:"bold"},e.name),l.a.createElement("li",null,e.office),l.a.createElement("li",null,l.a.createElement("a",{href:"tel:"+e.phones},e.phones)),l.a.createElement("li",null,l.a.createElement("a",{href:"https://twitter.com/"+e.twitter},"@",e.twitter)),l.a.createElement("li",null,l.a.createElement("a",{href:e.urls},"website")))})))}}]),t}(l.a.Component),U=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"aboutCardContent",className:"textBlock cardInnards"},l.a.createElement("div",{className:"headerContainer"},l.a.createElement("h3",{className:"bold"},this.props.header)),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("p",{className:"bold"},"Report Issues"),"Care'n is a location based kickstarter for change. It allows residents to submit complaints to the city by physically going to the location of the issue and placing a pin on the dynamic map. Each submmision must include a photo and description of the issue in order for it to be accepted into the app\u2019s database. Once accepted (an automated process), users have the ability to vote on the issue."),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("p",{className:"bold"},"Engaged Voting"),"Care'n tracks users location realtime and presents local reported issues for the community to vote on. At the end of the month, the city or local government is obligated to address the top voted issue that month."),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("p",{className:"bold"},"Community Prioritization"),"Care'n provides users with limited vote tokens thus creating a system where the issues that matter most to the community are magnified."),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("p",{className:"bold"},"Civic Duty"),"Care'n is a direct, real-time conduit between city officials and their constituents. Each Issue can be tweeted to local officials social media platform, along with vote count, creating a level of awareness to be leveraged by the community.")))}}]),t}(l.a.Component),D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).CloseCardInnards=function(){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"})},a.CloseCard=function(){document.getElementById("cardContainer").style.visibility="hidden",a.CloseCardInnards()},a.OpenCard=function(e,t){a.CloseCardInnards(),document.getElementById("cardContainer").style.visibility="visible",document.getElementById("issueCardContent")&&(document.getElementById("issueCardContent").style.display="block")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"voteCardContent",className:"textBlock cardInnards"},l.a.createElement("div",{className:"headerContainer"},l.a.createElement("h3",{className:"bold"},this.props.header)),l.a.createElement("ul",null,this.props.localIssues.map(function(t){return l.a.createElement("li",{className:"labelContainer"},l.a.createElement("a",{onClick:function(a){e.props.setSelectedIssue(t),e.OpenCard(a)}},t.category," "),l.a.createElement("button",{onClick:e.props.onVoteClick},"Vote"))})))}}]),t}(l.a.Component),G=a(12),z=(a(69),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).OpenSidebar=function(){document.getElementById("carenSidebar").style.width="30vw",document.getElementById("carenSidebar").style.borderRight="border-right: 5px solid #000",document.getElementById("openBtnLogoContainer").style.marginLeft="30vw"},a.CloseSidebar=function(){document.getElementById("carenSidebar").style.width="0px",document.getElementById("carenSidebar").style.borderRight="border-right: 5px solid #000",document.getElementById("openBtnLogoContainer").style.marginLeft="0px"},a.CloseCardInnards=function(){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"})},a.CloseCard=function(){document.getElementById("cardContainer").style.visibility="hidden",a.CloseCardInnards()},a.OpenCard=function(e,t){a.CloseCardInnards(),document.getElementById("cardContainer").style.visibility="visible","signUp"==t&&(document.getElementById("signUpCardContent").style.display="block"),a.CloseSidebar()},a.OpenSidebarToggle=function(){a.state.bool=!a.state.bool,a.state.bool?a.OpenSidebar():a.CloseSidebar()},a.state={value:""},a.handleChange=a.handleChange.bind(Object(G.a)(Object(G.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(G.a)(Object(G.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"logInCardContent",className:"textBlock cardInnards"},l.a.createElement("div",{className:"headerContainer"},l.a.createElement("h3",{className:"bold"},this.props.header)),l.a.createElement("div",null,l.a.createElement("ul",{id:"logInFieldsContainer"},l.a.createElement("li",{className:"labelContainer"},l.a.createElement("label",null,"Email:",l.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("li",{id:"logInBtn",className:"labelContainer"},l.a.createElement("button",{onClick:this.handleSubmit},"Submit"))),l.a.createElement("div",{id:"switchToSignUp",className:"labelContainer"},l.a.createElement("p",null,"Not a member?",l.a.createElement("br",null),l.a.createElement("a",{className:"bold",onClick:function(t){e.OpenCard(t,"signUp")}},"Sign Up")))))}}]),t}(l.a.Component)),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).OpenSidebar=function(){document.getElementById("carenSidebar").style.width="30vw",document.getElementById("carenSidebar").style.borderRight="border-right: 5px solid #000",document.getElementById("openBtnLogoContainer").style.marginLeft="30vw"},a.CloseSidebar=function(){document.getElementById("carenSidebar").style.width="0px",document.getElementById("carenSidebar").style.borderRight="border-right: 5px solid #000",document.getElementById("openBtnLogoContainer").style.marginLeft="0px"},a.CloseCardInnards=function(){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"})},a.CloseCard=function(){document.getElementById("cardContainer").style.visibility="hidden",a.CloseCardInnards()},a.OpenCard=function(e,t){a.CloseCardInnards(),document.getElementById("cardContainer").style.visibility="visible","logIn"==t&&(document.getElementById("logInCardContent").style.display="block"),a.CloseSidebar()},a.OpenSidebarToggle=function(){a.state.bool=!a.state.bool,a.state.bool?a.OpenSidebar():a.CloseSidebar()},a.state={value:""},a.handleChange=a.handleChange.bind(Object(G.a)(Object(G.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(G.a)(Object(G.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"signUpCardContent",className:"cardInnards"},l.a.createElement("div",{className:"headerContainer"},l.a.createElement("h3",{className:"bold"},this.props.header)),l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",{className:"labelContainer"},l.a.createElement("label",null,"First Name:",l.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("label",null,"Last Name:",l.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("label",null,"Email:",l.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("li",Object(T.a)({className:"logInBtn"},"className","labelContainer"),l.a.createElement("button",{onClick:this.handleSubmit},"Submit"))),l.a.createElement("div",{className:"labelContainer"},l.a.createElement("p",null,"Already a member?",l.a.createElement("br",null),l.a.createElement("a",{className:"bold",onClick:function(t){e.OpenCard(t,"logIn")}},"Log In")))))}}]),t}(l.a.Component),_=(a(70),a(33)),M=(a(78),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(T.a)({},n,t))},a.handleSubmitClick=function(e){alert("Hello"),e.preventDefault(),a.props.onCommentSubmission(a.props.selectedIssue,a.state.commentValue),a.setState({commentValue:""})},a.CloseCardInnards=function(){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"})},a.CloseCard=function(){document.getElementById("cardContainer").style.visibility="hidden",a.CloseCardInnards()},a.OpenCard=function(){a.CloseCardInnards(),document.getElementById("cardContainer").style.visibility="visible",document.getElementById("voteCardContent")&&(document.getElementById("voteCardContent").style.display="block")},a.state={commentValue:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.selectedIssue;return l.a.createElement("div",{id:"issueCardContent",className:"textBlock cardInnards"},e&&l.a.createElement("div",null,l.a.createElement("div",{className:"headerContainer"},l.a.createElement("h3",{className:"bold"},e.category)),l.a.createElement("ul",{className:"labelContainer"},l.a.createElement("li",null,l.a.createElement("div",{className:"heightRestriction"},l.a.createElement(_.Carousel,null,e.images.map(function(e){return l.a.createElement("img",{className:"heightRestriction",src:e})})))),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("a",null,"Status: ",e.status),l.a.createElement("a",{className:"floatRight"},"Votes: ",e.voteCount)),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("button",{id:"floatLeft",onClick:this.OpenCard},"Back"),l.a.createElement("button",{className:"floatRight",onClick:this.props.onVoteClick},"Vote")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("li",{className:"labelContainer bold"},e.descr),l.a.createElement("br",null),l.a.createElement("li",{className:"labelContainer"},l.a.createElement("textarea",{value:this.state.commentValue,className:"textBox",rows:"4",cols:"50",name:"commentValue",onChange:this.handleInputChange,type:"text",form:"usrform",placeholder:"Add comments here"}),l.a.createElement("button",{onClick:this.props.handleSubmitClick},"Add Comment")),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("li",{className:"labelContainer"},e.addtlcomments.map(function(e){return l.a.createElement("p",null,e.comment)})))))}}]),t}(l.a.Component));function W(e){var t=e.zipCode,a=e.localIssues,n=e.selectedIssue,s=e.setSelectedIssue,r=e.onVoteClick,o=e.onCommentSubmission,i=e.visibility;return l.a.createElement("div",{className:"cardContainer",id:"cardContainer",style:{visibility:i}},l.a.createElement("div",{id:"cardInnards",className:"textBlock"},l.a.createElement(U,{header:"About",display:"none"}),l.a.createElement(V,{zipCode:t,header:"Local Government Contacts",display:"none"}),l.a.createElement(M,{onVoteClick:r,selectedIssue:n,onCommentSubmission:o}),l.a.createElement(D,{setSelectedIssue:s,selectedIssue:n,localIssues:a,onVoteClick:r,header:"Issues In Your Area",display:"none"}),l.a.createElement(z,{header:"Log In",display:"none"}),l.a.createElement(F,{header:"Sign Up",display:"none"})))}var K=a(35);a(79);function q(e){var t=e.onManualRefreshClick,a=Object(n.useState)(!1),s=Object(K.a)(a,2);s[0],s[1];return l.a.createElement("div",{id:"refreshBtnContainer"},l.a.createElement("button",{className:"refreshBtn",onClick:t},l.a.createElement("i",{className:"fa fa-refresh"})))}var J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadIssueIntervalTime=25,a.loading=a.props.loading,a.getUpdatedLocation=function(){navigator.geolocation&&(navigator.geolocation.watchPosition(function(e){a.setState(function(t){return{currentLocation:Object(p.a)({},t.currentLatLng,{lat:e.coords.latitude,lng:e.coords.longitude})}}),P.getZipcode(a.state.currentLocation).then(function(e){var t=e.data.results[0].address_components.find(function(e){if(e.types.includes("postal_code"))return e}).long_name;a.setState({zipCode:t})}).then(function(){})},function(e){return console.log(e)}),a.getLocalIssues(a.state.currentLocation),a.loadIssueSequenceID=setInterval(function(){a.getLocalIssues(a.state.currentLocation)},1e3*a.loadIssueIntervalTime))},a.checkNearLocation=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=Math.cos(Math.PI*t.lat/180)*(4e4/360),l=Math.abs(t.lng-e.lng)*n,s=Math.abs(t.lat-e.lat)*(4e4/360);return Math.sqrt(l*l+s*s)<=a},a.getLocalIssues=function(){a.loading(!0),P.getIssues().then(function(e){var t=e.data.filter(function(e){if("Closed"!==e.status){var t={lat:e.latlng.lat,lng:e.latlng.lng};return a.checkNearLocation(t,a.state.currentLocation)}});a.setState({localIssues:t}),a.props.loading(!1)}).catch(function(e){return console.log(e)})},a.getLocalGovt=function(){P.getGovContacts(a.state.zipCode).then(function(e){for(var t=[],n=0;n<e.data.officials.length;n++){var l={};l.office=e.data.offices[n].name?e.data.offices[n].name:"Info not available",l.name=e.data.officials[n].name?e.data.officials[n].name:"Info not available",l.phones=e.data.officials[n].phones?e.data.officials[n].phones:"Phone number not available",l.twitter=e.data.officials[n].channels?e.data.officials[n].channels[0].id:"Twitter not available",l.urls=e.data.officials[n].urls?e.data.officials[n].urls:"Info not available",t.push(l)}a.setState({localGovt:t})})},a.onManualRefreshClick=function(){a.getLocalIssues()},a.setSelectedIssue=function(e){a.setState({selectedIssue:e})},a.onVoteClick=function(){var e="5f065921f938a110b0b804d0";P.getUser(e).then(function(t){var n=t.data;P.getSingleIssue(a.state.selectedIssue._id).then(function(t){var a=t.data;if(a.votedby.includes(e)||n.remainingvotes<=0)alert("Already voted or no vote balance");else{var l=a.votedby,s=t.data.voteCount+1;l.push(e),P.updateIssue(t.data._id,{voteCount:s,votedby:l}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}})})},a.onReportIssueClick=function(e){var t={category:e,descr:"New issue added",voteCount:1,zipcode:99999,status:"Voting",latlng:{lat:a.state.currentLocation.lat,lng:a.state.currentLocation.lng}};P.createIssue(t).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.submitIssueReport=function(e,t){a.loading(!0),P.uploadImages(t).then(function(t){console.log(t),e.createdby="testUser",e.votecount=1,e.status="Voting",e.zipcode=94602,e.date=Date(),e.votedby=["testUserID"],e.latlng=a.state.currentLocation,e.images=t.data,P.createIssue(e).then(function(e){console.log(e),a.loading(!1)}).catch(function(e){return console.log(e)}),alert("Issue has been submitted")}).catch(function(e){return console.log(e)})},a.onResolveClick=function(){P.getSingleIssue(a.state.selectedIssue._id).then(function(e){var t=e.data,a={resolvecount:t.resolvecount?t.resolvecount+1:1,status:t.status};"Pending"===t.status&&a.resolvecount>=5?a.status="Closed":a.status="Pending",P.updateIssue(t._id,a).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})})},a.onCommentSubmission=function(e,t){P.addComment(e,{addtlcomments:{username:"testUser",comment:t}}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},a.componentDidMount=function(){a.getUpdatedLocation()},a.state={zipCode:"",currentLocation:{lat:37.804363,lng:-122.271111},localGovt:[],localIssues:[],selectedIssue:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currentLocation,a=e.localIssues,n=e.selectedIssue,s=e.zipCode,r=e.localGovt;return l.a.createElement("div",null,l.a.createElement(q,{onManualRefreshClick:this.onManualRefreshClick}),l.a.createElement(W,{zipCode:s,localGovt:r,localIssues:a,selectedIssue:n,setSelectedIssue:this.setSelectedIssue,onVoteClick:this.onVoteClick,onCommentSubmission:this.onCommentSubmission,visibility:"hidden"}),l.a.createElement(R,{localGovt:r,currentLocation:t,localIssues:a,selectedIssue:n,setSelectedIssue:this.setSelectedIssue,onVoteClick:this.onVoteClick,onReportIssueClick:this.onReportIssueClick,onCommentSubmission:this.onCommentSubmission,onResolveClick:this.onReportIssueClick,submitIssueReport:this.submitIssueReport}))}}]),t}(l.a.Component),Y=(a(80),a(81),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).OpenSidebar=function(){document.getElementById("carenSidebar").style.width="30vw",document.getElementById("carenSidebar").style.borderRight="border-right: 5px solid #000",document.getElementById("openBtnLogoContainer").style.marginLeft="30vw"},a.CloseSidebar=function(){document.getElementById("carenSidebar").style.width="0px",document.getElementById("carenSidebar").style.borderRight="border-right: 5px solid #000",document.getElementById("openBtnLogoContainer").style.marginLeft="0px"},a.CloseCardInnards=function(){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"})},a.CloseCard=function(){document.getElementById("cardContainer").style.visibility="hidden",a.CloseCardInnards()},a.OpenCard=function(e,t){switch(a.CloseCardInnards(),document.getElementById("cardContainer").style.visibility="visible",t){case"about":document.getElementById("aboutCardContent").style.display="block";break;case"contacts":document.getElementById("contactsCardContent").style.display="block";break;case"logIn":document.getElementById("logInCardContent").style.display="block";break;case"signUp":document.getElementById("signUpCardContent").style.display="block"}return a.CloseSidebar(),"hello world"},a.OpenSidebarToggle=function(){a.state.bool=!a.state.bool,a.state.bool?a.OpenSidebar():a.CloseSidebar()},a.state={bool:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{id:"openBtnLogoContainer"},l.a.createElement("button",{className:"openbtn",onClick:this.OpenSidebarToggle},"\u2630"),l.a.createElement("a",{className:"logo bold",onClick:this.CloseCard},"Care'n")),l.a.createElement("ul",{id:"carenSidebar",className:"sidebar"},l.a.createElement("li",null,l.a.createElement("a",{onClick:function(t){e.OpenCard(t,"about")}},"About")),l.a.createElement("li",null,l.a.createElement("a",{onClick:function(t){e.OpenCard(t,"contacts")}},"Contact")),l.a.createElement("li",null,l.a.createElement("a",{onClick:function(t){e.OpenCard(t,"logIn")}},"Log In")),l.a.createElement("li",null,l.a.createElement("a",{onClick:function(t){e.OpenCard(t,"signUp")}},"Sign Up")),l.a.createElement("div",{id:"sidebarLogo"},l.a.createElement("a",{className:"logo bold",onClick:this.CloseCard},"Care'n"))))}}]),t}(l.a.Component));a(82);function Z(){return l.a.createElement("div",null)}a(83);var X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).CloseCardInnards=function(){Array.prototype.slice.call(document.getElementsByClassName("cardInnards")).forEach(function(e){e.style.display="none"})},a.CloseCard=function(){document.getElementById("cardContainer").style.visibility="hidden",a.CloseCardInnards()},a.OpenCard=function(e,t){a.CloseCardInnards(),document.getElementById("cardContainer").style.visibility="visible",document.getElementById("voteCardContent").style.display="block"},a.OpenToggle=function(){a.state.bool=!a.state.bool,a.state.bool?a.OpenCard():a.CloseCard()},a.state={bool:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"contextBtnContainer"},l.a.createElement("button",{className:"contextBtn",onClick:this.OpenToggle},"..."))}}]),t}(l.a.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loading=function(e){a.setState({isLoading:e})},a.state={isLoading:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d.a,null,l.a.createElement("div",null,this.state.isLoading&&l.a.createElement(Z,null),l.a.createElement(Y,null),l.a.createElement(y.a,null,l.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return l.a.createElement(J,Object.assign({},t,{loading:e.loading}))}})),l.a.createElement(X,null)))}}]),t}(l.a.Component);r.a.render(l.a.createElement(H,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.d0803a43.chunk.js.map